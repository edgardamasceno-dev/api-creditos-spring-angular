<form [formGroup]="form" (ngSubmit)="onSubmit()" class="consulta-form">
  <div class="form-row">
    <label for="numeroNfse">Número da NFS-e</label>
    <input
      id="numeroNfse"
      formControlName="numeroNfse"
      type="text"
      placeholder="Digite o número da NFS-e"
    />
  </div>
  <div class="form-row">
    <label for="numeroCredito">Número do Crédito</label>
    <input
      id="numeroCredito"
      formControlName="numeroCredito"
      type="text"
      placeholder="Digite o número do crédito"
    />
  </div>
  <div class="form-row">
    <button type="submit" [disabled]="form.invalid || loading">Buscar</button>
  </div>
</form>

<div *ngIf="error" class="error">{{ error }}</div>

<table *ngIf="creditos && creditos.length" class="result-table">
  <thead>
    <tr>
      <th>Nº Crédito</th>
      <th>Nº NFS-e</th>
      <th>Data Constituição</th>
      <th>Valor ISSQN</th>
      <th>Tipo</th>
      <th>Simples Nacional</th>
      <th>Alíquota</th>
      <th>Valor Faturado</th>
      <th>Valor Dedução</th>
      <th>Base Cálculo</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let c of creditos">
      <td>{{ c.numeroCredito }}</td>
      <td>{{ c.numeroNfse }}</td>
      <td>{{ c.dataConstituicao }}</td>
      <td>{{ c.valorIssqn | number: "1.2-2" }}</td>
      <td>{{ c.tipoCredito }}</td>
      <td>{{ c.simplesNacional ? "Sim" : "Não" }}</td>
      <td>{{ c.aliquota | number: "1.2-2" }}</td>
      <td>{{ c.valorFaturado | number: "1.2-2" }}</td>
      <td>{{ c.valorDeducao | number: "1.2-2" }}</td>
      <td>{{ c.baseCalculo | number: "1.2-2" }}</td>
    </tr>
  </tbody>
</table>

<div
  *ngIf="creditos && !creditos.length && !loading && !error"
  class="no-results"
>
  Nenhum crédito encontrado.
</div>
